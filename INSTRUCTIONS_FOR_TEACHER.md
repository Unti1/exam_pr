# Инструкции для преподавателя

## Описание задания

Данное задание представляет собой комплексный проект **"Система управления библиотекой"**, который охватывает все требуемые технологии:

1. **MVC архитектура** - четкое разделение на Model, View, Controller
2. **Desktop программирование** - GUI приложение на tkinter
3. **SQL обработка данных** - работа с SQLite базой данных
4. **Автотесты** - unit тесты на pytest

## Структура задания

### 1. Модели (Models)
- `Book` - модель книги с методами выдачи/возврата
- `Reader` - модель читателя с валидацией данных
- `Loan` - модель выдачи с проверкой просрочки

### 2. База данных (SQL CRUD)
- `DatabaseManager` - полный набор CRUD операций
- Создание таблиц, добавление, чтение, обновление, удаление
- Поиск и фильтрация данных

### 3. Контроллеры (Controllers)
- `BookController` - управление книгами
- `ReaderController` - управление читателями  
- `LoanController` - управление выдачами

### 4. Представления (Views)
- GUI интерфейс с вкладками
- Формы для добавления/редактирования
- Таблицы для отображения данных

### 5. Автотесты
- Тесты моделей (`test_models.py`)
- Тесты контроллеров (`test_controllers.py`)
- Тесты базы данных (`test_database.py`)

## Как использовать для зачета

### 1. Раздача задания студентам
- Предоставьте студентам файл `README.md` с полным описанием задания
- Объясните структуру проекта и требования
- Укажите сроки выполнения

### 2. Проверка выполнения
Студенты должны создать следующие файлы:

**Обязательные файлы:**
```
models/
├── __init__.py
├── book.py
├── reader.py
└── loan.py

controllers/
├── __init__.py
├── book_controller.py
├── reader_controller.py
└── loan_controller.py

database/
├── __init__.py
└── database_manager.py

views/
├── __init__.py
├── main_window.py
├── book_view.py
├── reader_view.py
└── loan_view.py

tests/
├── __init__.py
├── test_models.py
├── test_controllers.py
└── test_database.py

main.py
requirements.txt
```

### 3. Запуск проверки
Для проверки выполнения используйте предоставленные автотесты:

```bash
# Установка зависимостей
pip install -r requirements.txt

# Запуск всех тестов
pytest -v

# Запуск с покрытием кода
pytest -v --cov=. --cov-report=html

# Запуск конкретных тестов
pytest -v tests/test_models.py
pytest -v tests/test_controllers.py
pytest -v tests/test_database.py
```

### 4. Критерии оценки

**MVC архитектура (25%):**
- Правильное разделение на Model, View, Controller
- Отсутствие прямых связей между View и Model
- Использование контроллеров для бизнес-логики

**SQL операции (25%):**
- Корректные SQL запросы (CREATE, INSERT, SELECT, UPDATE, DELETE)
- Правильная структура таблиц
- Обработка ошибок базы данных

**GUI интерфейс (20%):**
- Функциональный интерфейс
- Удобство использования
- Обработка пользовательского ввода

**Автотесты (20%):**
- Покрытие тестами не менее 80% кода
- Тестирование всех основных функций
- Тестирование граничных случаев

**Код и документация (10%):**
- Чистота кода
- Комментарии и docstrings
- Соблюдение PEP 8

### 5. Дополнительные задания

Для отличников можно предложить дополнительные задания:
1. Система уведомлений о просроченных книгах
2. Экспорт данных в Excel/CSV
3. Резервное копирование базы данных
4. Поиск с автодополнением
5. Графики статистики

## Примеры проверки

### Проверка моделей
```python
# Студент должен реализовать
book = Book("Название", "Автор", "ISBN", 2020, 5)
assert book.title == "Название"
assert book.available == 5

book.borrow_book()
assert book.available == 4
```

### Проверка базы данных
```python
# Студент должен реализовать
db_manager = DatabaseManager("test.db")
book_id = db_manager.add_book(book)
retrieved_book = db_manager.get_book_by_id(book_id)
assert retrieved_book.title == "Название"
```

### Проверка контроллеров
```python
# Студент должен реализовать
controller = BookController(db_manager)
book_id = controller.add_book("Название", "Автор", "ISBN", 2020, 5)
book = controller.get_book(book_id)
assert book.title == "Название"
```

## Советы для студентов

1. **Начните с моделей** - они не зависят от других компонентов
2. **Создайте базу данных** - используйте SQLite для простоты
3. **Реализуйте контроллеры** - они связывают модели и представления
4. **Создайте GUI** - используйте tkinter для интерфейса
5. **Напишите тесты** - тестируйте каждый компонент отдельно

## Возможные проблемы

1. **Импорты** - убедитесь, что все `__init__.py` файлы созданы
2. **Пути к файлам** - используйте относительные пути
3. **База данных** - создайте папку `database/` для файла БД
4. **Зависимости** - установите pytest и pytest-cov

## Контакты

При возникновении вопросов по заданию обращайтесь к преподавателю. 